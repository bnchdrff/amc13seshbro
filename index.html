<html>
<head>
<link type="text/css" rel="stylesheet" media="all" href="seshbro.css" />
<script type="text/javascript" src="http://dev.talk070512.phy3.thermitic.net/sites/talk070512.phy3.thermitic.net/modules/contrib/jquery_update/replace/jquery/1.7/jquery.js"></script>
<script type="text/javascript" src="lib/json2.js"></script>
<script type="text/javascript" src="lib/underscore.js"></script>
<script type="text/javascript" src="lib/backbone.js"></script>
<script type="text/javascript" src="lib/backbone-relational.js"></script>
<script type="text/javascript" src="lib/doT/doT.js"></script>
<script type="text/x-dot-template" id="seshbro-tpl-seshbro">
  <div id='categories'></div><br/><br/><div id='seshes'></div>
</script>
<script type="text/x-dot-template" id="seshbro-tpl-categories">
  {{##def.checkbox:
    <li>
      <input type="checkbox" value="{{=the.get("tid")}}" id="term-{{=the.get("tid")}}" />
      <label for="term-{{=the.get("tid")}}">
        {{=the.get("name")}}
      </label>
    </li>
  #}}
  {{##def.blockcheckbox:
    <li data-parent-tid="{{=the.get("parents")[0]}}">
      <input type="checkbox" value="{{=the.get("tid")}}" id="term-{{=the.get("tid")}}" />
      <label for="term-{{=the.get("tid")}}">
        {{=the.get("name")}}
      </label>
    </li>
  #}}
  {{##def.category:
  #}}
  {{##def.categories:
  <div class="categories t_ps_ng">
    <div class="category">
      <h3>Tracks</h3>
      <ul>
        {{ for (var tid in it.t_ps_ng.t) { }}
          {{ var the = it.t_ps_ng.t[tid]; }}
          {{#def.checkbox}}
        {{ } }}
      </ul>
    </div>
    <div class="category">
      <h3>Practice Spaces</h3>
      <ul>
        {{ for (var tid in it.t_ps_ng.ps) { }}
          {{ var the = it.t_ps_ng.ps[tid]; }}
          {{#def.checkbox}}
        {{ } }}
      </ul>
    </div>
    <div class="category">
      <h3>Network Gatherings</h3>
      <ul>
        {{ for (var tid in it.t_ps_ng.ng) { }}
          {{ var the = it.t_ps_ng.ng[tid]; }}
          {{#def.checkbox}}
        {{ } }}
        <pre>list of NGs here!</pre>
      </ul>
    </div>
  </div>
  <div class="categories locations">
    <div class="category location">
      <h3>Places</h3>
      <ul>
        {{ for (var tid in it.locations) { }}
          {{ var the = it.locations[tid]; }}
          {{#def.checkbox}}
        {{ } }}
      </ul>
    </div>
  </div>
  <div class="categories daytime">
    <div class="category thursday">
      <h3>Thursday</h3>
      <ul>
        {{ for (var tid in it.blocks.thursday) { }}
          {{ var the = it.blocks.thursday[tid]; }}
          {{#def.blockcheckbox}}
        {{ } }}
      </ul>
    </div>
    <div class="category friday">
      <h3>Friday</h3>
      <ul>
        {{ for (var tid in it.blocks.friday) { }}
          {{ var the = it.blocks.friday[tid]; }}
          {{#def.blockcheckbox}}
        {{ } }}
      </ul>
    </div>
    <div class="category saturday">
      <h3>Saturday</h3>
      <ul>
        {{ for (var tid in it.blocks.saturday) { }}
          {{ var the = it.blocks.saturday[tid]; }}
          {{#def.blockcheckbox}}
        {{ } }}
      </ul>
    </div>
    <div class="category sunday">
      <h3>Sunday</h3>
      <ul>
        {{ for (var tid in it.blocks.sunday) { }}
          {{ var the = it.blocks.sunday[tid]; }}
          {{#def.blockcheckbox}}
        {{ } }}
      </ul>
    </div>
  </div>
  #}}
  {{#def.categories}}
</script>
<script type="text/x-dot-template" id="seshbro-tpl-seshes">
  <h2>Sessions</h2>
  <ul class="seshes">
    {{ for (var i = -1, l = it.seshes.length; ++i < l;) { }}
      <li class="session" data-sched="{{=it.seshes[i].field_2012sched[0].value}}">
        <h3>{{=it.seshes[i].title}}</h3>
        <span class="block">
        {{
          var term = seshbrodude.categoriesView.collection.where({tid:it.seshes[i].field_2012sched[0].value})[0];
          if ( term !== undefined ) {
        }}
        {{=term.get("name")}}
        {{ } }}
        </span>
      </li>
    {{ } }}
  </ul>
</script>
<script type="text/javascript" src="amc12seshbrowser.js"></script>
</head>
<body>
  <div id="app">
  </div>
</body>
</html>
